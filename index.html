<!DOCTYPE html>
<html lang='pt-br'>

<head>
    <!-- Required meta tags -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    <title>MACH - Planejamento de voo online</title>

    <!-- CSS -->
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css' integrity='sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M' crossorigin='anonymous'>
    <link rel='stylesheet' href='css/padrao.css'>

</head>

<body ng-app='tabelaRotas' ng-controller='tab_rotas_Ctrl'>
    <!-- Navbar -->
    <nav class='navbar navbar-expand-lg navbar-light bg-light'>
        <div class='container'>
            <span class='navbar-brand'>mach</span>
            <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation'>
            <span class='navbar-toggler-icon'></span>
          </button>
            <div class='collapse navbar-collapse' id='navbarNav'>
                <ul class='navbar-nav'>
                    <li class='nav-item'>
                        <a class='nav-link' style='cursor:pointer' data-toggle='modal' data-target='#trocar'>Trocar Rota</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href='briefing.html'>Briefing</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href='mailto:joao.pedro.hsd@gmail.com'>Enviar Feedback</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href='https://github.com/jpedroh/mach' target='_blank'>GitHub</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href='api/index.html'>Desenvolvedores</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href='handles/logout.html'>Sair</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Modal - Alteração -->
    <div class='modal fade' id='trocar' tabindex='-1' role='dialog' aria-labelledby='label' aria-hidden='true'>
        <form class='form-signin' action='handles/inicializa.html' method='get'>
            <div class='modal-dialog' role='document'>
                <div class='modal-content'>
                    <div class='modal-header'>
                        <h5 class='modal-title' id='label'>Alterar rota</h5>
                        <button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button>
                    </div>
                    <div class='modal-body'>
                        <p class='lead'>Escolha a rota</p>
                        <div class='form-group'>
                            <div class='form-group'>
                                <label class='form-control-label' for='partida'>Aeródromo de partida</label>
                                <input name='p' type='text' required class='form-control' id='partida' placeholder='Partida'>
                            </div>
                            <div class='form-group'>
                                <label class='form-control-label' for='partida'>Aeródromo de chegada</label>
                                <input name='c' type='text' required class='form-control' id='partida' placeholder='Chegada'>
                            </div>
                        </div>
                    </div>
                    <div class='modal-footer'>
                        <button type='button' class='btn btn-secondary' data-dismiss='modal'>Cancelar</button>
                        <button class='btn btn-primary' type='submit'>Alterar</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- Aplicação -->
    <div class='container app'>
        <h2 id='saudacao'>Encontrei {{ tamanho }} sugestões para a rota {{ partida }} <i class='fa fa-long-arrow-right' aria-hidden='true'></i> {{ chegada }}</h2>
        <table id='resultados' class='table table-striped table-bordered' cellspacing='0' width='100%'>
            <thead>
                <tr>
                    <th>VOO</th>
                    <th>ROTA</th>
                    <th>FL</th>
                    <th>STD</th>
                    <th>AERONAVE</th>
                    <th>EET</th>
                    <th>AÇÃO</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat='linha in rotas | orderBy : "callsign"'>
                    <td>{{ linha.callsign }}</td>
                    <td id='rota'>{{ linha.rota }}</td>
                    <td>{{ linha.fl }}</td>
                    <td>{{ linha.std }}Z</td>
                    <td>{{ linha.aeronave }}</td>
                    <td>{{ linha.eet }}</td>
                    <td id='acao'><a data-toggle='modal' href='#modal{{ linha.callsign }}'>Ver Briefing</a> | <a class='blue-text text-darken-4' href='fpl.php?id={{ linha.id }}'>IVAO FPL</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!--Modais-->
    <div ng-repeat='modal in rotas' class='modal fade' id='modal{{ modal.callsign }}' tabindex='-1' role='dialog' aria-labelledby='label' aria-hidden='true'>
        <form class='form-signin' action='handles/briefing.html' method='get'>
            <div class='modal-dialog modal-lg' role='document'>
                <div class='modal-content'>
                    <div class='modal-header'>
                        <h5 class='modal-title' id='label'>Pré-briefing - Voo {{ modal.callsign }}</h5> <button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button> </div>
                    <div class='modal-body'>
                        <p class='lead'>Antes de começarmos,você precisa preencher umas coisinhas.</p>
                        <div class='form-group'> <label class='form-control-label' for='alternado'>Escolha um alternado</label> <input type='hidden' name='id' value='{{ modal.id }}'><input name='alternado' id='alternado' type='text' required class='form-control' placeholder='Alternado'> </div>
                        <div class='form-group'> <label class='form-control-label' for='pob'>Insira um POB</label> <input name='pob' id='pob' type='number' required class='form-control' placeholder='POB'> </div>
                    </div>
                    <div class='modal-footer'> <button type='button' class='btn btn-secondary' data-dismiss='modal'>Voltar a seleção</button> <button class='btn btn-primary' type='submit'>Ir para o briefing</button> </div>
                </div>
            </div>
        </form>
    </div>

    <!-- JS -->
    <script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js' integrity='sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4' crossorigin='anonymous'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js' integrity='sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1' crossorigin='anonymous'></script>
    <script src='https://use.fontawesome.com/b19f6a7abc.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js'></script>
    <script src='js/analytics.js'></script>
    <script src='js/index.js'></script>
</body>

</html>